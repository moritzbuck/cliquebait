import argparse
from cliqueblocks import *

description_text = "TO DO"
get_verbose()
if __name__ == "__main__":

    parser = argparse.ArgumentParser(prog = "cliqueblocks", description=description_text, epilog = "Let's do this")
    parser.add_argument('--output', '-o', nargs = 1, help = "send output to this file")
    parser.add_argument('--force', '-f', action='store_true', help = "force execution (overwritting existing files)")
    parser.add_argument('--similarities', '-I', nargs = 1, help = "file containing similarities between MAGs, only accepts output of fastANI right now")
    parser.add_argument('--gap_size', '-g', nargs = 1, type=float, default = default_gap_size , help = f"size of the gap used to cut the guide tree, default : {default_gap_size}")
    parser.add_argument('--strain_cutoff', '-s', nargs = 1, type=float, default = default_strain_cutoff, help = "similarities above that threshold are ignored in the clustering (considered intra-species clusters, e.g. strain), default {default_strain_cutoff}")
    parser.add_argument('--lower_cutoff', '-l', nargs = 1, type=float, default = default_lower_cutoff, help = f"similarities above that threshold are ignored in the clustering (considered intra-species clusters, e.g. strain), default {default_lower_cutoff}")
    parser.add_argument('--version','-v', action="store_true", help = "get version and exit")

    args = parser.parse_args()

    if len(sys.argv)==1 or args.version:
        if len(sys.argv)==1:
            parser.print_help(sys.stderr)
        print("{script} Version {version}".format(script = __file__, version = __version__))
        sys.exit(1)

    motulize(args)
